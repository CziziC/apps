### 1. 功能背景
因为必须验证手机号后才可以收到催办等通知短信，如果不强制绑定手机号，会导致好多用户不会收到催办等通知短信，部分落地版客户也明确提出需要确保用户能收到短信通知。

### 2. 设置方法
### 2.1 settings配置
- `Meteor.settings.public.phone.forceAccountBindPhone`：是否强制绑定手机号
- `Meteor.settings.public.phone.expiredDays`：绑定手机号的过期天数

### 2.2 不强制绑定手机号的用户设置
- 设置菜单路径：系统设置>高级设置>通讯录权限>不强制绑定手机号的用户。
- 可以为每个工作区设置自己的不强制绑定手机号的用户集合。
- 只有工作区管理员才能进行该设置。

> 只有settings中配置了forceAccountBindPhone，不强制绑定手机号的用户设置才会显示出来。

### 3.应用规则
- 除了上述设置过的“不强制绑定手机号的用户集合”外，其他用户全部要求绑定手机号后才能进入系统。
- 如果未绑定手机号，又不在“不强制绑定手机号的用户集合”内的用户登录后，会弹出要求绑定手机号的窗口，该窗口会且只有在用户完成手机号绑定后自动消失。
- 如果未绑定手机号，又在“不强制绑定手机号的用户集合”内的用户登录后，会在右上角提示用户未绑定手机号，但是用户可以随时关掉这个提示。

> 上述应用规则只在settings中配置了forceAccountBindPhone才生效。

> 如果settings中额外配置了expiredDays的话，那么超出过期时间后，会重新把用户的手机号绑定状态设置为未绑定状态，上述规则就重新生效了。

> 不强制绑定手机号的用户设置变化时，上述应用规则不会立即生效，只有在下次用户进入系统或者刷新浏览器才会生效。

### 4. 应用范围
- 只要登录进入系统，除了绑定手机号本身的界面外，其他任何界面都适用上述应用规则。
- 只有PC上才会弹出要求绑定手机号的窗口以及右上角的未绑定手机号的提示。
- 手机上不会有任何提示。

### 4. 设置存储及应用规则计算相关
- 上述“不强制绑定手机号的用户设置”结果存储在表space_settings中,key为contacts_no_force_phone_users，values为选人控件的用户id集合。
- 前端订阅space_settings中相关数据后，会把计算结果同步到全局变量Steedos.isForceBindPhone中，表示是否需要强制当前用户绑定手机号。