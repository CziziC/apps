# 文件分发
## 描述
- 新增“分发”按钮。

- 分发后选择的流程考虑改为全部流程，不应该是当前处理人有权限的流程。或者也可以是选择转发人员具有权限的那些流程。例如 集团办公室文书 需 分发“集团基层单位收文”，而“集团基层单位收文”是 集团基层单位文书 可以发起的，集团办公室文书 不属于 集团基层单位文书。

- 跨工作区转发时不选择人员而默认为处理人处理，建议也是选择其他处理人来执行转发后流程。例如 ，集团办公室文书  分发到“股份公司收文”，现在的系统是 集团办公室文书 分发后，由他自己在 股份公司 里 执行“股份公司收文”的第一步操作，而这个操作由 股份公司文书 来做 才合理。

- 转发功能限制为我所属的工作区，只能转发到我有发起权限的流程，转发对象只能是自己。

## 文件分发增加限制
- （1）分发时，可以选择的流程需作限制，不可以分发给所有流程；
- （2）分发时，可以选择的用户需作限制，不可以分发给所有用户。
- 已知传阅分发的控制是设置在步骤上
- 设置中增加分发设置（是否需要settings增加参数QHD才开放此功能）
- 分发设置中可选择本工作区的某个流程进行设置
- 对已选流程的允许分发的步骤配置可分发的流程(step.allow_distribute_flows)
- 对已选流程配置分发对象范围(flow.distribute_optional_users)

## instances表分发相关字段解释
- distribute_from_instance ：分发生成的申请单中记录的第一次分发发起的申请单的id，如A分发给B，B分发给C，那么B和C中的 distribute_from_instance记录的都是A的id
- distribute_from_instances : 记录的是分发发起的申请单的id集合，如A分发给B，B分发给C，那么B中distribute_from_instances记录A的id，C中distribute_from_instances记录A和B的id，以此类推
